<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>OCI GoldenGate Capture/Replication Configuration 실습</title>

    <link rel="stylesheet" type="text/css" href="http://localhost:4000//assets/css/styles_feeling_responsive.css">

  

	<script src="http://localhost:4000//assets/js/modernizr.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
	<script>
		WebFont.load({
			google: {
				families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ]
			}
		});
	</script>

	<noscript>
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'>
	</noscript>


	<!-- Search Engine Optimization -->
	<meta name="description" content="OCI 의 GoldenGate 를 프로비저닝하고 Source Oracle DBCS 로부터 Traget Oracle DBCS 로 실시간 복제 구성을 실습합니다.">
	<meta name="google-site-verification" content="Vk0IOJ2jwG_qEoG7fuEXYqv0m2rLa8P778Fi_GrsgEQ">
	<meta name="msvalidate.01" content="0FB4C028ABCF07C908C54386ABD2D97F" >
	
	
	
	<link rel="canonical" href="http://localhost:4000//dataplatform/oci-goldengate-configuration-guide/">


	<!-- Facebook Open Graph -->
	<meta property="og:title" content="OCI GoldenGate Capture/Replication Configuration 실습">
	<meta property="og:description" content="OCI 의 GoldenGate 를 프로비저닝하고 Source Oracle DBCS 로부터 Traget Oracle DBCS 로 실시간 복제 구성을 실습합니다.">
	<meta property="og:url" content="http://localhost:4000//dataplatform/oci-goldengate-configuration-guide/">
	<meta property="og:locale" content="en_EN">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="OASIS's Technical Blog">
	
	<meta property="article:author" content="https://www.facebook.com/phlow.media">


	
	<!-- Twitter -->
	<meta name="twitter:card" content="summary">
	<meta name="twitter:site" content="phlow">
	<meta name="twitter:creator" content="phlow">
	<meta name="twitter:title" content="OCI GoldenGate Capture/Replication Configuration 실습">
	<meta name="twitter:description" content="OCI 의 GoldenGate 를 프로비저닝하고 Source Oracle DBCS 로부터 Traget Oracle DBCS 로 실시간 복제 구성을 실습합니다.">
	
	

	<link type="text/plain" rel="author" href="http://localhost:4000//humans.txt">

	

	

	<link rel="icon" sizes="32x32" href="http://localhost:4000/assets/img/favicon-32x32.png">

	<link rel="icon" sizes="192x192" href="http://localhost:4000/assets/img/touch-icon-192x192.png">

	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="http://localhost:4000/assets/img/apple-touch-icon-180x180-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://localhost:4000/assets/img/apple-touch-icon-152x152-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/assets/img/apple-touch-icon-144x144-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://localhost:4000/assets/img/apple-touch-icon-120x120-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/assets/img/apple-touch-icon-114x114-precomposed.png">

	
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://localhost:4000/assets/img/apple-touch-icon-76x76-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/assets/img/apple-touch-icon-72x72-precomposed.png">

	<link rel="apple-touch-icon-precomposed" href="http://localhost:4000/assets/img/apple-touch-icon-precomposed.png">	

	<meta name="msapplication-TileImage" content="http://localhost:4000/assets/img/msapplication_tileimage.png">

	<meta name="msapplication-TileColor" content="#fabb00">


	

	
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-XPHZDWLS3K"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-XPHZDWLS3K');
	</script>
	


</head>
<body id="top-of-page" class="page-fullwidth">
	
	
<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar data-options="scrolltop: false">
    <ul class="title-area">
      <li class="name">
      <h1 class="hide-for-large-up"><a href="http://localhost:4000/" class="icon-tree"> OASIS's Technical Blog</a></h1>
    </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar toggle-topbar-click menu-icon"><a><span>Nav</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="left">
        

              

          
          

            
            
              <li><a  href="http://localhost:4000//">HOME</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a  href="http://localhost:4000//blog">BLOG</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            

              <li class="has-dropdown">
                <a  href="http://localhost:4000//categories/">CATEGORIES</a>

                  <ul class="dropdown">
                    

                      

                      <li><a  href="http://localhost:4000//getting-started/">Getting Started</a></li>
                    

                      

                      <li><a  href="http://localhost:4000//infrastructure/">Infrastructure</a></li>
                    

                      

                      <li><a  href="http://localhost:4000//cloudnative/">Cloud Native</a></li>
                    

                      

                      <li><a  href="http://localhost:4000//database/">Data Platform</a></li>
                    

                      

                      <li><a  href="http://localhost:4000//aiml/">AI/ML</a></li>
                    

                      

                      <li><a  href="http://localhost:4000//security/">Security</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          

            
            

              <li class="has-dropdown">
                <a  href="http://localhost:4000//release-notes-2022/">Release Notes (2022)</a>

                  <ul class="dropdown">
                    

                      

                      <li><a  href="http://localhost:4000//release-notes-2022-infrastructure/">Infrastructure</a></li>
                    

                      

                      <li><a  href="http://localhost:4000//release-notes-2022-cloudnative-security/">Cloud Native &amp; Security</a></li>
                    

                      

                      <li><a  href="http://localhost:4000//release-notes-2022-database">Data Platform</a></li>
                    

                      

                      <li><a  href="http://localhost:4000//release-notes-2022-aiml/">AI/ML</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          
        

              

          
          
        
        
      </ul>
      
      

      <ul class="right">
        

              



          
          
        

              



          
          
        

              



          
          
        

              



          
          
        

              



          
          
            
            
              <li class="divider"></li>
              <li><a  href="http://localhost:4000//learning/">Learning</a></li>

            
            
          
        

              



          
          
            
            
              <li class="divider"></li>
              <li><a  href="http://localhost:4000//search/">Search</a></li>

            
            
          
        
        
      </ul>
     
    </section>
  </nav>
</div><!-- /#navigation -->

	

	




<nav class="breadcrumbs" role="menubar" aria-label="breadcrumbs">
 <a href="http://localhost:4000/">HOME</a>
 
   
    
        <a href="http://localhost:4000//dataplatform/">dataplatform</a>
    
  
    
        <a class="current">OCI GoldenGate Capture/Replication Configuration 실습</a>
    
  
</nav>




	


<div class="row t30">
	<div class="medium-12 columns">
		<article>
			<header>
				<p class="subheadline">DataPlatform</p>
				<h1>OCI GoldenGate Capture/Replication Configuration 실습</h1>
			</header>

			
			<p class="teaser">
				OCI 의 GoldenGate 를 프로비저닝하고 Source Oracle DBCS 로부터 Traget Oracle DBCS 로 실시간 복제 구성을 실습합니다.
			</p>
			

			<div class="panel radius">
  <p id="toc"><strong>Table of Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#서비스-소개" id="markdown-toc-서비스-소개">서비스 소개</a></li>
  <li><a href="#사전-준비-사항" id="markdown-toc-사전-준비-사항">사전 준비 사항</a></li>
  <li><a href="#step-1--윈도우-서버-준비---sql-developer-연결" id="markdown-toc-step-1--윈도우-서버-준비---sql-developer-연결">STEP 1 : 윈도우 서버 준비 - SQL Developer 연결</a></li>
  <li><a href="#step-2--source-db-준비" id="markdown-toc-step-2--source-db-준비">STEP 2 : SOURCE DB 준비</a>    <ul>
      <li><a href="#source-db에-seed-data-생성" id="markdown-toc-source-db에-seed-data-생성">SOURCE DB에 SEED Data 생성</a></li>
    </ul>
  </li>
  <li><a href="#step-3--target-db-준비" id="markdown-toc-step-3--target-db-준비">STEP 3 : TARGET DB 준비</a>    <ul>
      <li><a href="#target-db에-seed-data-생성" id="markdown-toc-target-db에-seed-data-생성">TARGET DB에 SEED Data 생성</a></li>
    </ul>
  </li>
  <li><a href="#step-4--source-db-에-supplement-logging-설정" id="markdown-toc-step-4--source-db-에-supplement-logging-설정">STEP 4 : SOURCE DB 에 SUPPLEMENT LOGGING 설정</a></li>
  <li><a href="#step-5--source-와-target-db-에-oci-goldegate-admin-사용자-생성" id="markdown-toc-step-5--source-와-target-db-에-oci-goldegate-admin-사용자-생성">STEP 5 : SOURCE 와 TARGET DB 에 OCI GoldeGate Admin 사용자 생성</a></li>
  <li><a href="#step-6--oci-goldegate-서비스-deployment" id="markdown-toc-step-6--oci-goldegate-서비스-deployment">STEP 6 : OCI GoldeGate 서비스 Deployment</a></li>
  <li><a href="#step-7--register-database-oci-console" id="markdown-toc-step-7--register-database-oci-console">STEP 7 : Register Database (OCI Console)</a></li>
  <li><a href="#step-8--source-db-에-trandata-정보-등록-oci-goldengate-admin-console" id="markdown-toc-step-8--source-db-에-trandata-정보-등록-oci-goldengate-admin-console">STEP 8 : SOURCE DB 에 TRANDATA 정보 등록 (OCI GoldenGate Admin Console)</a></li>
  <li><a href="#step-9--target-db-에-checkpoint-table-생성-oci-goldengate-admin-console" id="markdown-toc-step-9--target-db-에-checkpoint-table-생성-oci-goldengate-admin-console">STEP 9 : TARGET DB 에 Checkpoint Table 생성 (OCI GoldenGate Admin Console)</a></li>
  <li><a href="#step-10--extract-추출-프로세스-추가-및-실행" id="markdown-toc-step-10--extract-추출-프로세스-추가-및-실행">STEP 10 : EXTRACT (추출) 프로세스 추가 및 실행</a></li>
  <li><a href="#step-11--replicat-복제-프로세스-추가-및-실행" id="markdown-toc-step-11--replicat-복제-프로세스-추가-및-실행">STEP 11 : REPLICAT (복제) 프로세스 추가 및 실행</a></li>
  <li><a href="#step-12--복제-결과-확인-및-통계-확인" id="markdown-toc-step-12--복제-결과-확인-및-통계-확인">STEP 12 : 복제 결과 확인 및 통계 확인</a></li>
  <li><a href="#step-13--복제를-위해-source-db-테이블에-데이터-입력-변경" id="markdown-toc-step-13--복제를-위해-source-db-테이블에-데이터-입력-변경">STEP 13 : 복제를 위해 SOURCE DB 테이블에 데이터 입력 변경</a></li>
</ul>

</div>

<h3 id="서비스-소개">서비스 소개</h3>
<p>On-Premise 기반의 Oracle Database 간의 SOURCE DB 와 TARGET DB 간의 실시간 복제 솔루션으로 강력한 Oracle GoldenGate 라는 솔루션이 있습니다. OGG(Oracle GoldenGate)는 Source System의 Database Redo/Archive Log에 접근해, 변경 된 데이터만 추출하여 Target System Database에 데이터를 동기화 하는 CDC 솔루션을 말합니다.
OCI 에는 기존 On-Premise 기반의 Oracle GoldenGate (OGG) 솔루션이 OCI GoldenGate 라는 이름의 Managed 서비스가 추가가 되었습니다.
OCI GoldenGate 는 타 Cloud Vendor 에서는 제공하지 않는 OCI 에서만 제공하는 CDC 솔루션입니다.</p>

<p><img src="/assets/img/dataplatform/2022/goldengate/00.oci-goldengate-overview.png" alt="OCI GG Overview" /></p>

<p>이번 글에서는 OCI GoldenGate 서비스에 대한 DB 복제 구성을 실습해 보도록 합니다.</p>

<p><br /></p>

<h3 id="사전-준비-사항">사전 준비 사항</h3>
<p>OCI GoldenGate 서비스를 구성하려면 먼저 아래와 같은 사항들이 준비되어야 합니다.</p>
<ul>
  <li>DBCS 구성을 위한 Virtual Cloud Network (VCN) 구성</li>
  <li>Source Oracle DB (OCI DBCS 혹은 ADB) - (Oracle DB 11.2.0.4 버전 이상, 19.0.0.0 버전만 제외) - DBCS 생성 시  <a href="/dataplatform/oracle-database-cloud-service-quickstart/" target="_blank" rel="noopener">DBCS 생성 퀵스타트 가이드 참고</a></li>
  <li>Target Oracle DB (OCI DBCS 혹은 ADB) - (Oracle DB 11.2.0.4 버전 이상, 19.0.0.0 버전만 제외)</li>
  <li>SQL Developer 실행을 위한 Windows Instance (선택 사항)</li>
</ul>

<p><img src="/assets/img/dataplatform/2022/goldengate/01.oci-goldengate-dbcs-preparation.png" alt="DBCS Preparation" /></p>

<p>상기 그림과 같이 OCI GoldenGate 구성을 위해 SOURCE 와 TARGET DBCS 를 미리 구성해 놓았고 SOURCE DBCS 에서 TARGET DBCS 로의 복제 구성을 실습하게 됩니다.
DBCS 를 일반적으로 Private Subnet 안에 구성되기 때문에 Public Subnet 을 통해 DB 접근이 가능하도록 SQL Developer 실행을 위한 Windows 서버를 추가로 구성합니다.</p>

<p><img src="/assets/img/dataplatform/2022/goldengate/02.oci-goldengate-windows-preparation.png" alt="Windows Preparation" /></p>

<p><br /></p>

<h3 id="step-1--윈도우-서버-준비---sql-developer-연결">STEP 1 : 윈도우 서버 준비 - SQL Developer 연결</h3>

<p>DB 서버 접속을 위해 상기 Provisioning 한 윈도우 서버에 원격 데스크탑 을 통해 접속합니다.</p>

<p><img src="/assets/img/dataplatform/2022/goldengate/03.oci-goldengate-windows-preparation-2.png" alt="Windows Preparation" /></p>

<p>접속된 윈도우 서버에서 Oracle SQL Developer (https://www.oracle.com/database/sqldeveloper/technologies/download/) 를 다운로드 받아 설치합니다. 다운받은 zip 파일을 압축만 해제하면 됩니다. 압축해제된 파일 폴더에서 sqldeveloper.exe 를 실행합니다.</p>

<p><img src="/assets/img/dataplatform/2022/goldengate/04.oci-goldengate-windows-sql-developer.png" alt="SQL Developer" /></p>

<p>SQL Developer 를 실행하면 아래와 같은 화면이 나타나며 상단의 새로운 DB Connection 을 생성할 수 있는 버튼을 클릭합니다.</p>

<p><img src="/assets/img/dataplatform/2022/goldengate/05.oci-goldengate-windows-sql-developer-2.png" alt="SQL Developer" /></p>

<p>생성된 DB 의 Connection 정보는 DBCS 의 상세화면에서 DB Connection 정보를 획득할 수 있습니다. 아래 그림과 같이 DB Connection 정보를 복사합니다.</p>

<p><img src="/assets/img/dataplatform/2022/dbcs/quickstart/19.oci-dbcs-db-connection-string.png" alt="SQL Developer" /></p>

<p><img src="/assets/img/dataplatform/2022/dbcs/quickstart/20.oci-dbcs-db-connection-string-copy.png" alt="SQL Developer" /></p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* DB Connection 정보  : srcggdb.sub07160235111.pslimvcn2021071.oraclevcn.com:1521/SRCGGDB_SRCGGDB.sub07160235111.pslimvcn2021071.oraclevcn.com

상기 Connection 정보에서 SQL Developer 의 Connection 에 입력할 항목들을 추출합니다.
1. 호스트 이름 : srcggdb.sub07160235111.pslimvcn2021071.oraclevcn.com
2. 포트 : 1521
3. 서비스 이름 : SRCGGDB_SRCGGDB.sub07160235111.pslimvcn2021071.oraclevcn.com
</code></pre></div></div>

<p>아래의 화면에 사용자 이름에 DB 생성 시 입력한 sys 사용자의 password 와 호스트 이름, 서비스 이름을 입력하고 테스트 및 저장 버튼을 클릭합니다. 여기서 반드시 사용자의 롤(Role)을 SYSDBA 로 선택해 줍니다.</p>

<p><img src="/assets/img/dataplatform/2022/goldengate/06.oci-goldengate-sql-developer-connection-sys.png" alt="SQL Developer" /></p>

<p>Target DB 에 대해서도 동일한 방식으로 sys 사용자에 대해 Connection 을 생성하여 저장해 둡니다.</p>

<p><img src="/assets/img/dataplatform/2022/goldengate/07.oci-goldengate-sql-developer-connection-sys-2.png" alt="SQL Developer" /></p>

<p>Connection 을 클릭하여 설정한 SOURCE DB 로 연결이 잘 되는지 확인합니다.</p>

<p><img src="/assets/img/dataplatform/2022/goldengate/08.oci-goldengate-sql-developer-connect-sql.png" alt="SQL Developer" /></p>

<p><br /></p>

<h3 id="step-2--source-db-준비">STEP 2 : SOURCE DB 준비</h3>

<p>데이터의 원천 소스 DB에 대해 테이블 스키마 구성 및 테스트용 Seed data 를 입력하여 운영 중인 실시간 복제할 테이블과 데이터를 구성해 주는 단계입니다.</p>

<h4 id="source-db에-seed-data-생성">SOURCE DB에 SEED Data 생성</h4>
<ul>
  <li>
    <p>복제를 수행할 Source 데이터베이스를 구성합니다. 먼저, Source DB 의 CDB ROOT 사용자인 sys 사용자로 Connection 을 연결 후, SRC_OCIGGLL 이라는 사용자를 생성해 줍니다. (※ password 항목은 사용할 password 로 대체 필요)</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">SESSION</span> <span class="k">SET</span> <span class="n">CONTAINER</span><span class="o">=</span><span class="n">PDB1</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">USER</span> <span class="nv">"SRC_OCIGGLL"</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="nv">"&lt;password&gt;"</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">CREATE</span> <span class="k">SESSION</span> <span class="k">TO</span> <span class="nv">"SRC_OCIGGLL"</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">USER</span> <span class="nv">"SRC_OCIGGLL"</span> <span class="n">ACCOUNT</span> <span class="n">UNLOCK</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">CONNECT</span><span class="p">,</span> <span class="n">RESOURCE</span> <span class="k">TO</span> <span class="nv">"SRC_OCIGGLL"</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">CREATE</span> <span class="k">ANY</span> <span class="k">TABLE</span> <span class="k">TO</span> <span class="nv">"SRC_OCIGGLL"</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">TO</span> <span class="nv">"SRC_OCIGGLL"</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="n">UNLIMITED</span> <span class="n">TABLESPACE</span> <span class="k">TO</span> <span class="nv">"SRC_OCIGGLL"</span><span class="p">;</span>
</code></pre></div>    </div>

    <p><img src="/assets/img/dataplatform/2022/goldengate/09.oci-goldengate-sql-developer-seed-user.png" alt="SEED User" /></p>
  </li>
  <li>
    <p>생성한 SRC_OCIGGLL 사용자로 SQLDeveloper 접속을 생성합니다. (※ 생성한 SRC_OCIGGLL 사용자는 PDB 사용자로 반드시 아래의 서비스 이름에 PDB명을 입력해야 합니다. PDB명은 DB 생성 시 입력한 PDB명 입니다.)</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/10.oci-goldengate-sql-developer-seed-user-connect.png" alt="SEED User" /></p>
  </li>
  <li>
    <p>상기 생성한 SRC_OCIGGLL 사용자로 SQL Developer 에 접속 후 SQL 커맨드 창에서 아래의 SEED Data Load Script 를 수행합니다. SEED Data Load Script 는 <a href="/assets/files/ocigg-sql/SOURCE-SEED-DATA.SQL">SOURCE-SEED-DATA.SQL</a> 를 다운받아 생성한 SRC_OCIGGLL 사용자의 Connection 을 이용해 접속 후 SQL 실행창에 복사하여 붙여놓고 SQL 문장들을 실행합니다. (※ 아래 내용은 해당 스크립트의 일부입니다.)</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="n">UNLIMITED</span> <span class="n">TABLESPACE</span> <span class="k">TO</span> <span class="n">SRC_OCIGGLL</span><span class="p">;</span>
<span class="c1">--------------------------------------------------------</span>
<span class="c1">--  File created - @dsgray 3-07-2021   </span>
<span class="c1">--------------------------------------------------------</span>
<span class="c1">--------------------------------------------------------</span>
<span class="c1">--  DDL for Table SRC_CITY</span>
<span class="c1">--------------------------------------------------------</span>

<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="nv">"SRC_OCIGGLL"</span><span class="p">.</span><span class="nv">"SRC_CITY"</span> 
 <span class="p">(</span>	<span class="nv">"CITY_ID"</span> <span class="n">NUMBER</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> 
  <span class="nv">"CITY"</span> <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">50</span> <span class="nb">BYTE</span><span class="p">),</span> 
  <span class="nv">"REGION_ID"</span> <span class="n">NUMBER</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> 
  <span class="nv">"POPULATION"</span> <span class="n">NUMBER</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
 <span class="p">)</span> 
 <span class="p">;</span>

 <span class="p">.....</span> <span class="err">중략</span>

</code></pre></div>    </div>
    <p>아래 화면은 상기 SEED-DATA.SQL 스크립트를 실행한 결과입니다. SRC_OCIGGLL 스키마에 샘플테이블인 SRC_CITY, SRC_CUSTOMER, SRC_PRODUCT, SRC_REGION 등의 테이블과 데이터가 입력이 되어 있는지 확인합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/11.oci-goldengate-sql-developer-seed-data-result.png" alt="SEED User" /></p>
  </li>
</ul>

<p><br /></p>

<h3 id="step-3--target-db-준비">STEP 3 : TARGET DB 준비</h3>

<p>실시간 복제를 수행할 TARGET DB 에 대해 SOURCE DB 와 동일한 내용의 데이터를 입력하여 구성해 주는 단계입니다. SOURCE DB 에 SEED DATA 를 생성해 주는 절차와 동일하게 SQL Developer 의 Connection 을 생성하고 SEED DATA SQL 을 실행해 줍니다.</p>

<h4 id="target-db에-seed-data-생성">TARGET DB에 SEED Data 생성</h4>
<ul>
  <li>
    <p>복제가 될 Target 데이터베이스를 구성합니다. 먼저, Target DB CDB ROOT 사용자인 sys 사용자로 Connection 을 연결 후, SRCMIRROR_OCIGGLL 이라는 사용자를 생성해 줍니다. (※ password 항목은 사용할 password 로 대체 필요)</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">SESSION</span> <span class="k">SET</span> <span class="n">CONTAINER</span><span class="o">=</span><span class="n">PDB1</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">USER</span> <span class="nv">"SRCMIRROR_OCIGGLL"</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="nv">"&lt;password&gt;"</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">CREATE</span> <span class="k">SESSION</span> <span class="k">TO</span> <span class="nv">"SRCMIRROR_OCIGGLL"</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">USER</span> <span class="nv">"SRCMIRROR_OCIGGLL"</span> <span class="n">ACCOUNT</span> <span class="n">UNLOCK</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">CONNECT</span><span class="p">,</span> <span class="n">RESOURCE</span> <span class="k">TO</span> <span class="nv">"SRCMIRROR_OCIGGLL"</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">CREATE</span> <span class="k">ANY</span> <span class="k">TABLE</span> <span class="k">TO</span> <span class="nv">"SRCMIRROR_OCIGGLL"</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">TO</span> <span class="nv">"SRCMIRROR_OCIGGLL"</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="n">UNLIMITED</span> <span class="n">TABLESPACE</span> <span class="k">TO</span> <span class="nv">"SRCMIRROR_OCIGGLL"</span><span class="p">;</span>
</code></pre></div>    </div>

    <p><img src="/assets/img/dataplatform/2022/goldengate/12.oci-goldengate-sql-developer-target-user.png" alt="SEED User" /></p>
  </li>
  <li>
    <p>생성한 Target DB 의 사용자인 SRCMIRROR_OCIGGLL 사용자로 아래 그림처럼 SQLDeveloper 접속을 생성합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/13.oci-goldengate-sql-developer-target-user-connect.png" alt="SEED User" /></p>
  </li>
  <li>
    <p>Target DB 에도 아래의 SEED Data Load Script 를 수행합니다. SEED Data Load Script 는 <a href="/assets/files/ocigg-sql/TARGET-SEED-DATA.SQL">TARGET-SEED-DATA.SQL</a> 를 다운받아 생성한 SRCMIRROR_OCIGGLL 사용자의 Connection 을 이용해 접속 후 SQL 실행창에 복사하여 붙여놓고 SQL 문장들을 실행합니다. (※ 아래 내용은 해당 스크립트의 일부입니다.)</p>
  </li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">GRANT</span> <span class="n">UNLIMITED</span> <span class="n">TABLESPACE</span> <span class="k">TO</span> <span class="n">SRCMIRROR_OCIGGLL</span><span class="p">;</span>
<span class="c1">--------------------------------------------------------</span>
<span class="c1">--  File created - @dsgray 9-22-2020   </span>
<span class="c1">--------------------------------------------------------</span>
<span class="c1">--------------------------------------------------------</span>
<span class="c1">--  DDL for Table SRC_CITY</span>
<span class="c1">--------------------------------------------------------</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="nv">"SRCMIRROR_OCIGGLL"</span><span class="p">.</span><span class="nv">"SRC_CITY"</span> 
<span class="p">(</span>	<span class="nv">"CITY_ID"</span> <span class="n">NUMBER</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> 
<span class="nv">"CITY"</span> <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">50</span> <span class="nb">BYTE</span><span class="p">),</span> 
<span class="nv">"REGION_ID"</span> <span class="n">NUMBER</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> 
<span class="nv">"POPULATION"</span> <span class="n">NUMBER</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="p">)</span> <span class="n">SEGMENT</span> <span class="n">CREATION</span> <span class="k">IMMEDIATE</span> 
<span class="n">PCTFREE</span> <span class="mi">10</span> <span class="n">PCTUSED</span> <span class="mi">40</span> <span class="n">INITRANS</span> <span class="mi">1</span> <span class="n">MAXTRANS</span> <span class="mi">255</span> 
<span class="n">NOCOMPRESS</span> <span class="n">LOGGING</span>
<span class="k">STORAGE</span><span class="p">(</span><span class="n">INITIAL</span> <span class="mi">65536</span> <span class="k">NEXT</span> <span class="mi">1048576</span> <span class="n">MINEXTENTS</span> <span class="mi">1</span> <span class="n">MAXEXTENTS</span> <span class="mi">2147483645</span>
<span class="n">PCTINCREASE</span> <span class="mi">0</span> <span class="n">FREELISTS</span> <span class="mi">1</span> <span class="n">FREELIST</span> <span class="n">GROUPS</span> <span class="mi">1</span>
<span class="n">BUFFER_POOL</span> <span class="k">DEFAULT</span> <span class="n">FLASH_CACHE</span> <span class="k">DEFAULT</span> <span class="n">CELL_FLASH_CACHE</span> <span class="k">DEFAULT</span><span class="p">)</span>
<span class="p">;</span>
<span class="c1">------------</span>
<span class="p">.....</span> <span class="err">중략</span>
  
</code></pre></div></div>

<p>아래 화면은 상기 SEED-DATA.SQL 스크립트를 실행한 결과입니다. SRCMIRROR_OCIGGLL 스키마에 SOURCE DB의 샘플테이블인 SRC_CITY, SRC_CUSTOMER, SRC_PRODUCT, SRC_REGION 등의 테이블과 데이터가  동일하게 입력이 되어 있는지 확인합니다.
    <img src="/assets/img/dataplatform/2022/goldengate/14.oci-goldengate-sql-developer-target-seed-data.png" alt="SEED User" /></p>

<p><br /></p>

<h3 id="step-4--source-db-에-supplement-logging-설정">STEP 4 : SOURCE DB 에 SUPPLEMENT LOGGING 설정</h3>

<p>SOURCE DB 의 SUPPLEMENT LOGGING 추가를 위해 SQL Developer 를 통해 SOURCE DB 에 sys 계정으로 로그인 합니다.</p>

<ul>
  <li>SOURCE DB 에 sys (sysdba) 계정으로 “ARCHIVELOG” 모드로 DB 가 실행되고 있는지 확인합니다. 아래 화면과 같이 LOG_MODE 는 “ARCHIVELOG” 모드로 설정되어 있어야 합니다.
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">SELECT</span> <span class="n">log_mode</span> <span class="k">FROM</span> <span class="n">v</span><span class="err">$</span><span class="k">database</span><span class="p">;</span>
</code></pre></div>    </div>
    <p><img src="/assets/img/dataplatform/2022/goldengate/15.oci-goldengate-sql-developer-archivelog-check.png" alt="ARCHIVELOG CHECK" /></p>

    <p>※ 만일, LOG_MODE 가 “NOARCHIVELOG” 모드로 설정이 되어 있다면 아래와 같이 SOURCE DB 인스턴스로 ssh 로그인하여 아래 절차대로 실행해 줍니다. (※ 상기 화면과 같이 “ARCHIVELOG” 모드로 설정되어 있다면 아래 SCRIPT 는 수행하지 않습니다.)</p>

    <div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">  $</span><span class="w"> </span>sqlplus / as sysdba
<span class="gp">  SQL&gt;</span><span class="w"> </span>SELECT log_mode FROM v<span class="nv">$database</span><span class="p">;</span>
<span class="go">
  LOG_MODE
  ------------
  NOARCHIVELOG

</span><span class="gp">  SQL&gt;</span><span class="w"> </span>SHUTDOWN IMMEDIATE<span class="p">;</span>
<span class="gp">  SQL&gt;</span><span class="w"> </span>STARTUP MOUNT<span class="p">;</span>
<span class="gp">  SQL&gt;</span><span class="w"> </span>ALTER DATABASE ARCHIVELOG<span class="p">;</span>
<span class="gp">  SQL&gt;</span><span class="w"> </span>ALTER DATABASE OPEN<span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>SOURCE DB 의 SUPPLEMENTAL LOGGING 시작</p>

    <p>SOURCE DB 의 DATA Capture 를 위해서는 중요한 설정 중 하나는 SUPPLEMENTAL LOG 를 ENABLE 하는 설정입니다. 이 설정이 ENABLE 되어야 SOURCE DB 의 변경 데이터가 Capture 됩니다. SQL Developer 로 sys 계정의 CDB$ROOT 로 접속하여 아래 SQL Script 를 실행합니다.</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    
  <span class="k">ALTER</span> <span class="k">SESSION</span> <span class="k">SET</span> <span class="n">CONTAINER</span><span class="o">=</span><span class="n">CDB</span><span class="err">$</span><span class="n">ROOT</span><span class="p">;</span>
  <span class="k">ALTER</span> <span class="k">SYSTEM</span> <span class="n">SWITCH</span> <span class="n">LOGFILE</span><span class="p">;</span>
  <span class="k">ALTER</span> <span class="k">SYSTEM</span> <span class="k">SET</span> <span class="n">enable_goldengate_replication</span><span class="o">=</span><span class="k">true</span><span class="p">;</span>
  <span class="k">ALTER</span> <span class="k">DATABASE</span> <span class="k">ADD</span> <span class="n">SUPPLEMENTAL</span> <span class="n">LOG</span> <span class="k">DATA</span><span class="p">;</span>
    
  <span class="k">ALTER</span> <span class="k">SYSTEM</span> <span class="k">SET</span> <span class="n">STREAMS_POOL_SIZE</span><span class="o">=</span><span class="mi">5000</span><span class="n">M</span> <span class="k">scope</span><span class="o">=</span><span class="k">both</span><span class="p">;</span>

  <span class="k">ALTER</span> <span class="k">SESSION</span> <span class="k">SET</span> <span class="n">CONTAINER</span><span class="o">=</span><span class="n">PDB1</span><span class="p">;</span>
  <span class="k">ALTER</span> <span class="k">DATABASE</span> <span class="k">ADD</span> <span class="n">SUPPLEMENTAL</span> <span class="n">LOG</span> <span class="k">DATA</span><span class="p">;</span>
    
</code></pre></div>    </div>

    <p><img src="/assets/img/dataplatform/2022/goldengate/16.oci-goldengate-sql-developer-supplement-logging.png" alt="SUPPLEMENTAL LOGGING" /></p>
  </li>
</ul>

<p><br /></p>

<h3 id="step-5--source-와-target-db-에-oci-goldegate-admin-사용자-생성">STEP 5 : SOURCE 와 TARGET DB 에 OCI GoldeGate Admin 사용자 생성</h3>

<p>SOURCE DB 와 TARGET DB 에 OCI GoldenGate 가 추출 및 복제를 수행하기 위한 Admin 사용자를 CDB (Container DB) 에 생성해 줍니다.</p>

<ul>
  <li>
    <p>SOURCE DB 에 OCI GoldenGate Admin (C##GGADMIN) 계정 생성</p>

    <p>SOURCE DB 에 OCI GoldenGate Admin (C##GGADMIN) 계정 생성을 위해  SQL Developer 로 sys 계정의 CDB$ROOT 로 접속하여 아래 SQL SCRIPT 를 실행합니다. (※ password 항목은 사용할 password 로 대체 필요)</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">ALTER</span> <span class="k">SESSION</span> <span class="k">SET</span> <span class="n">CONTAINER</span><span class="o">=</span><span class="n">CDB</span><span class="err">$</span><span class="n">ROOT</span><span class="p">;</span>
  <span class="k">CREATE</span> <span class="k">USER</span> <span class="k">C</span><span class="o">##</span><span class="n">GGADMIN</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="nv">"&lt;password&gt;"</span><span class="p">;</span>
  <span class="k">EXEC</span> <span class="n">dbms_goldengate_auth</span><span class="p">.</span><span class="n">grant_admin_privilege</span><span class="p">(</span><span class="s1">'C##GGADMIN'</span><span class="p">,</span><span class="n">container</span><span class="o">=&gt;</span><span class="s1">'ALL'</span><span class="p">);</span>
  <span class="k">GRANT</span> <span class="n">DBA</span> <span class="k">TO</span> <span class="k">C</span><span class="o">##</span><span class="n">GGADMIN</span> <span class="n">container</span><span class="o">=</span><span class="k">all</span><span class="p">;</span>

  <span class="k">ALTER</span> <span class="k">SYSTEM</span> <span class="k">SET</span> <span class="n">enable_goldengate_replication</span><span class="o">=</span><span class="k">true</span><span class="p">;</span>

  <span class="k">ALTER</span> <span class="k">USER</span> <span class="k">C</span><span class="o">##</span><span class="n">GGADMIN</span> <span class="n">ACCOUNT</span> <span class="n">UNLOCK</span> <span class="p">;</span>
  <span class="k">ALTER</span> <span class="n">PROFILE</span> <span class="k">DEFAULT</span> <span class="k">LIMIT</span> <span class="n">PASSWORD_REUSE_TIME</span> <span class="n">UNLIMITED</span><span class="p">;</span>
  <span class="k">ALTER</span> <span class="n">PROFILE</span> <span class="k">DEFAULT</span> <span class="k">LIMIT</span> <span class="n">PASSWORD_LIFE_TIME</span>  <span class="n">UNLIMITED</span><span class="p">;</span>
  <span class="k">ALTER</span> <span class="n">PROFILE</span> <span class="k">DEFAULT</span> <span class="k">LIMIT</span> <span class="n">FAILED_LOGIN_ATTEMPTS</span> <span class="n">UNLIMITED</span><span class="p">;</span>
</code></pre></div>    </div>

    <p><img src="/assets/img/dataplatform/2022/goldengate/17.oci-goldengate-sql-developer-ggadmin-user-create.png" alt="GGADMIN USER CREATE" /></p>
  </li>
  <li>
    <p>TARGET DB 에  SQL Developer 로 sys 계정으로 CDB$ROOT 에 접속하여 TARGET DB 에도 위의 절차와 동일하게 동일한 SQL SCRIPT 를 실행시켜 OCI GoldenGate Admin 사용자를 생성해 줍니다.
  <img src="/assets/img/dataplatform/2022/goldengate/18.oci-goldengate-sql-developer-ggadmin-user-create-target.png" alt="TARGET GGADMIN" /></p>
  </li>
</ul>

<p><br /></p>

<h3 id="step-6--oci-goldegate-서비스-deployment">STEP 6 : OCI GoldeGate 서비스 Deployment</h3>

<p>OCI GoldenGate 서비스를 사용하기 위해 서비스를 Deploy 해야 합니다.</p>

<ul>
  <li>
    <p>아래의 OCI 메인 메뉴에서 GoldenGate 를 찾아 선택합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/19.oci-goldengate-navigation-menu.png" alt="GG NAVIGATION MENU" /></p>
  </li>
  <li>
    <p>GoldenGate 의 좌측 메뉴 중에서 두번째 Deployments 메뉴를 선택 후 Compartment 를 선택합니다. 우측의 목록 상단의 “Create Deployment” 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/20.oci-goldengate-deployment-main.png" alt="GG DEPLOYMENT MENU" /></p>
  </li>
  <li>아래 화면과 같이 OCI GoldenGate Deploy 를 위한 입력 사항들을 입력해 후 Next 버튼을 클릭합니다. (※ AutoScaling 체크 시, 초기 설정한 OCPU 의 3배까지 자동 스켈링 수행)
    <blockquote>
      <p>중요 : OCI GoldenGate Web Console 을 접근하기 위해서는 반드시 Public Subnet 을 선택하여 Deploy 합니다. Public Subnet 에 Deploy 를 하지만 Private IP 기반으로만 통신합니다.</p>
    </blockquote>

    <p><img src="/assets/img/dataplatform/2022/goldengate/21.oci-goldengate-deployment-input-public.png" alt="DEPLOYMENT INPUT" /></p>
  </li>
  <li>
    <p>다음은 OCI GoldenGate instance 명과 관리자 화면에 로그인할 사용자 및 Password 를 입력 후 Create 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/22.oci-goldengate-deployment-input-2-public.png" alt="DEPLOY INPUT" /></p>
  </li>
  <li>
    <p>Deploy 가 시작되면 아래와 같이 노란색 상태의 Creating 메시지가 나옵니다. (Deploy 시간 : 약 15분 소요)</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/23.oci-goldengate-deployment-creating-public.png" alt="CREATING" /></p>
  </li>
  <li>
    <p>Deploy 가 완료되면 아래와 같이 녹색 상태로 전환이 됩니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/24.oci-goldengate-deployment-created-public.png" alt="CREATED" /></p>
  </li>
  <li>
    <p>Deploy 가 완료되면 OCI GoldenGate Admin 콘솔에 로그인하여 DB 연결 구성 및 Capture, Replication 등의 프로세스를 구성해야 합니다. 
OCI GoldenGate Admin 콘솔은 Private IP 로만 통신하도록 구성되기 때문에 위에서 생성한 Windows 인스턴스 내에서 브라우저를 통해 접근이 가능합니다.</p>

    <blockquote>
      <p>중요 : Private IP/ Private Domain Name 으로만 접근하게 되므로 반드시 STEP 1 에서 생성한 Windows 인스턴스에서 브라우저를 통해 OCI GoldenGate Admin 콘솔 접근 해야만 합니다.</p>
    </blockquote>
  </li>
  <li>
    <p>Windows Instance 에서 브라우저를 실행 후 OCI 에 로그인 후 Deploy 된 OCI GoldenGate Deployment 화면에는 생성된 OCI GoldenGate 로 로그인 할 수 있는 URL 이 생성되어 있게 됩니다. 생성된 URL 을 통해 OCI GoldenGate Admin 콘솔 Web 화면으로 접근이 가능합니다. 아래 화면에서 Launch Console 버튼을 클릭하면 생성된 URL 로 바로 접근이 됩니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/25.oci-goldengate-remote-launch-console.png" alt="Launch Console" /></p>

    <p><br /></p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/26.oci-goldengate-remote-launch-console-2.png" alt="Launch Console" /></p>
  </li>
  <li>
    <p>OCI GoldenGate 의 Admin Service 화면이 나타나면 Deploy 생성 시 입력했던 GoldenGate Admin 사용자 (ggadmin) ID 와 Password 를 입력 후 로그인이 가능한지 확인합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/27.oci-goldengate-remote-admin-login.png" alt="Admin Login" /></p>
  </li>
  <li>
    <p>로그인이 되면 아래와 같은 추출 및 프로세스를 구성할 수 있는 화면이 나오게 됩니다. 추후 프로세스 구성을 위해 Console 화면을 이용하게 됩니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/28.oci-goldengate-remote-admin-main.png" alt="Admin Main" /></p>
  </li>
</ul>

<p><br /></p>

<h3 id="step-7--register-database-oci-console">STEP 7 : Register Database (OCI Console)</h3>

<p>OCI GoldenGate 에서 캡쳐/추출 및 복제를 할 대상 Database 들에 대해 Connection 정보를 등록하고 관리하는 절차입니다. OCI 콘솔 화면에서 Database 들을 등록하면 OCI GoldenGate Admin Console 에서도 등록된 Database 들이 나타나게 됩니다.</p>

<ul>
  <li>
    <p>Register Database 메뉴 실행 후 (GoldenGate -&gt; Register Database) Register Database 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/19.oci-goldengate-navigation-menu.png" alt="NAVI Menu" /></p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/29.oci-goldengate-register-database-menu.png" alt="REG DB-1" /></p>
  </li>
  <li>
    <p>등록 버튼을 클릭하면 DB 를 등록할 수 있는 화면이 우측에 나타나며 아래 그림들을 참고하여 SOURCE DB 와 TARGET DB 의 정보와 Connection 정보를 입력합니다.</p>

    <ul>
      <li>
        <p>SOURCE DB Register 입력 화면</p>

        <p><img src="/assets/img/dataplatform/2022/goldengate/30.oci-goldengate-register-database-input.png" alt="SREG-DB-2" /></p>

        <blockquote>
          <p>주의 : SOURCE DB 의 Connection String 입력 시 반드시 CDB 의 서비스명으로 입력을 합니다. <br /> 화면 입력 예) Database Connection string : srcggdb.sub07160235111.pslimvcn2021071.oraclevcn.com:1521/SRCGGDB_SRCGGDB.sub07160235111.pslimvcn2021071.oraclevcn.com</p>
        </blockquote>

        <p><img src="/assets/img/dataplatform/2022/goldengate/31.oci-goldengate-register-database-input-2.png" alt="SREG-DB-3" /></p>

        <p><img src="/assets/img/dataplatform/2022/goldengate/32.oci-goldengate-register-database-input-3.png" alt="SREG-DB-3" /></p>
      </li>
      <li>
        <p>TARGET DB Register 입력 화면</p>

        <blockquote>
          <p>주의 : TARGET DB 의 Connection String 은 반드시 PDB 의 서비스명으로 입력을 합니다. 화면 입력 예) trgggdb.sub07160235111.pslimvcn2021071.oraclevcn.com:1521/PDB1.sub07160235111.pslimvcn2021071.oraclevcn.com</p>
        </blockquote>

        <p><img src="/assets/img/dataplatform/2022/goldengate/33.oci-goldengate-register-database-target-input-1.png" alt="TREG-DB-1" /></p>

        <p><img src="/assets/img/dataplatform/2022/goldengate/34.oci-goldengate-register-database-target-input-2.png" alt="TREG-DB-2" /></p>

        <p><img src="/assets/img/dataplatform/2022/goldengate/35.oci-goldengate-register-database-target-input-3.png" alt="TREG-DB-3" /></p>
      </li>
    </ul>
  </li>
  <li>
    <p>등록 버튼을 클릭하면 아래와 같이 Database 에 대해 등록작업이 진행되며, 등록이 완료된 Database 는 상태 정보가 “Active” 상태로 전환됩니다. 등록한 두 Database 의 상태가 “Active” 상태가 될때까지 대기 후 다음 절차를 진행합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/36.oci-goldengate-register-database-reuslt.png" alt="REG-DB List" /></p>
  </li>
</ul>

<p><br /></p>

<h3 id="step-8--source-db-에-trandata-정보-등록-oci-goldengate-admin-console">STEP 8 : SOURCE DB 에 TRANDATA 정보 등록 (OCI GoldenGate Admin Console)</h3>

<p>OCI Console 에서 등록한 Database 들은 OCI GoldenGate 에서 조회가 가능하며, 등록된 Connection 정보를 활용하여 Capture 및 Replication 을 수행하게 됩니다. 프로세스 설정을 하기 위해서는 SOURCE DB 에 대한 TRANDATA 정보 생성이 필요합니다.</p>

<ul>
  <li>
    <p>OCI GoldenGate Admin Console 접속 후 Configuration 메뉴로 접근합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/27.oci-goldengate-remote-admin-login.png" alt="Admin Login" /></p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/38.oci-goldengate-console-config.png" alt="GG Console" /></p>
  </li>
  <li>
    <p>Configuration 메뉴로 접근하면 OCI Console 에서 등록했던 Database 의 Credential 정보들이 나타납니다. Credential 정보들 중에서 SOURCE DB 의 Connection 정보에 대한 Action 메뉴 중에서 빨간색으로 표시된 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/39.oci-goldengate-console-config-credentials.png" alt="Config Credetial" /></p>
  </li>
  <li>
    <p>다음과 같은 TRANDATA Information 창이 나타나며 그림의 빨간색으로 표시된 “+” 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/40.oci-goldengate-trandata-information.png" alt="TRANDATA Info" /></p>
  </li>
  <li>
    <p>”+” 버튼을 클릭했을때, 나타나는 아래의 입력창의 Schema Name 란에 PDB1.SRC_OCIGGLL 을 입력하고 Submit 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/41.oci-goldengate-trandata-add-submit.png" alt="TRANDATA SUBMIT" /></p>
  </li>
  <li>
    <p>추가한 TRANDATA 가 제대로 생성되었는지 확인하기 위해 아래 빨간색으로 표시된 입력창에 PDB1.SRC_OCIGGLL 을 입력하고 창 옆에 빨간색으로 표시된 돋보기 버튼을 클릭하면 생성된 TRANDATA 정보가 하단에 디스플레이 됩니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/42.oci-goldengate-trandata-check.png" alt="TRANDATA SEARCH" /></p>
  </li>
</ul>

<p><br /></p>

<h3 id="step-9--target-db-에-checkpoint-table-생성-oci-goldengate-admin-console">STEP 9 : TARGET DB 에 Checkpoint Table 생성 (OCI GoldenGate Admin Console)</h3>

<p>Capture / Replication 프로세스 설정을 하기 위해서는 TARGET DB 에 Checkpoint 테이블 생성이 필요합니다.</p>

<blockquote>
  <p>주의 : 앞서 TARGET DB 의 Register Database 생성 단계에서 Connection String 이 PDB 에 대한 Connection String 으로 연결을 하도록 설정하게 되어 있는지 체크합니다. 점검 방법은 Connection String 의 Service 명에 DB 데이터가 존재하는 PDB 명이 명기 되어 있는지 점검합니다. <br /> 예) SERVICE_NAME=PDB1.sub07160235111.pslimvcn2021071.oraclevcn.com</p>
</blockquote>

<ul>
  <li>
    <p>먼저, 사전에 TARGEDB 의 SRCMIRROR_OCIGGLL 사용자로 로그인하여 해당 스키마에 Checkpoint Table 이 생성되어 있지 않음을 확인합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/44.oci-goldengate-checkpoint-check.png" alt="CREDENTIALS" /></p>
  </li>
  <li>
    <p>OCI GoldenGate 의 Admin Console 로 로그인 후 Configuration 메뉴로 접근하면 OCI Console 에서 등록했던 Database 의 Credential 정보들이 나타납니다. Credential 정보들 중에서 TARGET DB 의 Connection 정보에 대한 Action 메뉴 중에서 빨간색으로 표시된 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/43.oci-goldengate-checkpoint-credential.png" alt="TARGET Config" /></p>
  </li>
  <li>
    <p>아래에 나타난 Checkpoint 항목에서 빨간색으로 표시된 “+” 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/45.oci-goldengate-checkpoint-create.png" alt="CHECKPOINT CREATE" /></p>
  </li>
  <li>
    <p>Checkpoint Table 입력창에 “SRCMIRROR_OCIGGLL”.”CEHCKTABLE” 을 입력 후 Submit 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/46.oci-goldengate-checkpoint-create-2.png" alt="CHECKPOINT CREATE-2" /></p>
  </li>
  <li>
    <p>Submit 버튼을 클릭하면 Checkpoint table 생성을 진행 후 아래와 같이 화면 전환이 되고 생성된 Checkpoint table 이 조회됩니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/47.oci-goldengate-checkpoint-create-result.png" alt="CHECKPOINT TABLE VIEW" /></p>
  </li>
  <li>
    <p>SQL Developer 로 TARGET DB 에 접속해서 Checkpoint Table 들이 생성이 되었는지 확인합니다. (기존 Connection 이 연결되어 있는 경우, Refresh 버튼 클릭해서 확인)</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/48.oci-goldengate-checkpoint-create-result-sqldev.png" alt="CHECKPOINT RESULT" /></p>
  </li>
</ul>

<p><br /></p>

<h3 id="step-10--extract-추출-프로세스-추가-및-실행">STEP 10 : EXTRACT (추출) 프로세스 추가 및 실행</h3>

<p>OCI GoldenGate Admin 콘솔에서 EXTRACT(Capture) 프로세스를 추가하는 단계입니다.</p>

<ul>
  <li>
    <p>OCI GoldenGate Admin 콘솔 로그인 후 Administration Service 탭의 메인 화면에서 Extracts (추출) 화면쪽의 “+” 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/49.oci-goldengate-extract-process-add.png" alt="EXTRACT ADD" /></p>
  </li>
  <li>
    <p>Add Extract 화면에서 Extract Type 을 “Integrated Extract” 를 선택 후 Next 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/50.oci-goldengate-extract-process-integrated-extract.png" alt="INTEGRATED EXTRACT" /></p>
  </li>
  <li>Add Extract 의 두번째 화면에서는 Process Name 과 Trail File 이 저장될 Trail Name 을 아래와 같이 입력합니다.
    <ul>
      <li>Process Name : UAEXT (사용하고자 하는 프로세스 명)</li>
      <li>Intent : Unidirectional 선택</li>
      <li>Trail Name : E1 (반드시 2자만 입력)</li>
    </ul>

    <p><img src="/assets/img/dataplatform/2022/goldengate/51.oci-goldengate-extract-process-name-trail.png" alt="PROCESS NAME" /></p>
  </li>
  <li>Add Extract 의 두번째 화면을 아래쪽으로 스크롤 하면 DB 의 Credential 과 Managed Option 을 지정하는 화면에 아래 그림과 같이 리스트에서 지정하거나 선택 후 Next 버튼을 클릭합니다.
    <ul>
      <li>Credential Domain : OracleGoldenGate</li>
      <li>Credential Alias : SRCGGDB</li>
      <li>Register to PDBs : PDB1 (DBCS 생성 시 입력했던 PDB 이름)</li>
      <li>Managed Option -&gt; Critical to deployment health : Enable</li>
    </ul>

    <p><img src="/assets/img/dataplatform/2022/goldengate/52.oci-goldengate-extract-process-credentiial-managed-option.png" alt="PROCESS CREDENTIAL" /></p>
  </li>
  <li>
    <p>Add Extract 세번째 화면에서는 Parameter File 을 입력하는 절차입니다. Parameter 에는 추출할 대상 스키마의 대상 테이블 정보들을 정의해 줍니다. 아래의 Parameter 내용을 복사하여 Parameter File 란에 기존 정보를 지우고 붙여넣기를 합니다. “Create and Run” 버튼을 클릭합니다. (※ 맨 아래 Parameter 항목에 Capture 할 테이블에 대한 정보가 명기되어 있는 것을 확인할 수 있습니다.)</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    
  EXTRACT UAEXT
  USERIDALIAS SRCGGDB DOMAIN OracleGoldenGate
  EXTTRAIL E1

  -- Capture DDL operations for listed schema tables
  ddl include mapped

  -- Add step-by-step history of ddl operations captured
  -- to the report file. Very useful when troubleshooting.
  ddloptions report

  -- Write capture stats per table to the report file daily.
  report at 00:01

  -- Rollover the report file weekly. Useful when IE runs
  -- without being stopped/started for long periods of time to
  -- keep the report files from becoming too large.
  reportrollover at 00:01 on Sunday

  -- Report total operations captured, and operations per second
  -- every 10 minutes.
  reportcount every 10 minutes, rate

  -- Table list for capture
  TABLE PDB1.SRC_OCIGGLL.*;

</code></pre></div>    </div>

    <p><img src="/assets/img/dataplatform/2022/goldengate/53.oci-goldengate-extract-process-parameter-file.png" alt="PROCESS PARAMETER" /></p>
  </li>
  <li>
    <p>추가한 프로세스는 아래 그림과 같이 노란 상태로 추가가 되며 프로세스가 정상적인 상태가 되면 녹색 상태로 전환됩니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/54.oci-goldengate-extract-process-status-yellow.png" alt="PROCESS STATUS" /></p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/55.oci-goldengate-extract-process-status-green.png" alt="PROCESS STATUS-2" /></p>
  </li>
</ul>

<p><br /></p>

<h3 id="step-11--replicat-복제-프로세스-추가-및-실행">STEP 11 : REPLICAT (복제) 프로세스 추가 및 실행</h3>

<p>다음은 OCI GoldenGate Admin 콘솔에서 REPLICAT(복제) 프로세스를 추가하는 단계입니다.</p>

<ul>
  <li>
    <p>OCI GoldenGate Admin 콘솔 로그인 후 Administration Service 탭의 메인 화면에서 Replicats (복제) 화면쪽의 “+” 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/56.oci-goldengate-replicat-process-add.png" alt="REPLICAT ADD" /></p>
  </li>
  <li>
    <p>Add Replicat 화면에서 Replicat Type 을 세번째 항목인 “Nonintegrated Replicat” 을 선택 후 Next 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/57.oci-goldengate-replicat-process-nonintegrated.png" alt="NONINTEGRATED REPLICAT" /></p>
  </li>
  <li>Add Replicat 화면의 Replicat Options 페이지에서 입력항목들에 아래와 같이 입력합니다.
    <ul>
      <li>Process Name : REP</li>
      <li>Credential Domain : OracleGoldenGate 선택</li>
      <li>Crential Alia : TRGGGDB 선택</li>
      <li>Trail Nmae : E1</li>
      <li>Checkpoint Table : “SRCMIRROR_OCIGGLL”.”CHECKTABLE”</li>
    </ul>

    <p><img src="/assets/img/dataplatform/2022/goldengate/58.oci-goldengate-replicat-process-name.png" alt="REPLICAT OPTIONS" /></p>
  </li>
  <li>
    <p>Add Replicat 의 두번째 화면을 아래쪽으로 스크롤 하면 Managed Option 을 지정하는 화면에 “Critical to deployment health” 를 Enable 로 설정 후 Next 버튼을 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/59.oci-goldengate-replicat-process-managed-options.png" alt="NONINTEGRATED REPLICAT" /></p>
  </li>
  <li>
    <p>Add Replicat 의 세번째 화면은 Parameter File 을 입력하는 화면입니다. 
Extract 프로세스의 Parmeter 를 입력하는 방식과 동일하게 아래의 내용을 Parameter 입력란에 붙여넣기로 기존 입력 항목을 대체 후 “Create and Run” 버튼을 클릭합니다. (※ 맨 마지막에 MAP 항목은 SOURCE DB 의 테이블을 TARGET DB 로 MAPPING 을 어떻게 할 것인지 정의해 주는 항목입니다.)</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    
  REPLICAT REP
  USERIDALIAS TRGGGDB DOMAIN OracleGoldenGate

  -- Capture DDL operations for listed schema tables
  --
  ddl include mapped
  --
  -- Add step-by-step history of ddl operations captured
  -- to the report file. Very useful when troubleshooting.
  --
  ddloptions report
  --
  -- Write capture stats per table to the report file daily.
  --
  report at 00:01
  --
  -- Rollover the report file weekly. Useful when PR runs
  -- without being stopped/started for long periods of time to
  -- keep the report files from becoming too large.
  --
  reportrollover at 00:01 on Sunday
  --
  -- Report total operations captured, and operations per second
  -- every 10 minutes.
  --
  reportcount every 10 minutes, rate
  --
  -- Table map list for apply
  --
  DBOPTIONS ENABLE_INSTANTIATION_FILTERING;
    
  MAP PDB1.SRC_OCIGGLL.*, TARGET PDB1.SRCMIRROR_OCIGGLL.*;
    
</code></pre></div>    </div>

    <p><img src="/assets/img/dataplatform/2022/goldengate/60.oci-goldengate-replicat-process-parameter-file.png" alt="REPLICAT PROCESS" /></p>
  </li>
  <li>
    <p>추가한 프로세스는 아래 그림과 같이 노란 상태로 추가가 되며 프로세스가 정상적인 상태가 되면 녹색 상태로 전환됩니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/61.oci-goldengate-replicat-process-status-yellow.png" alt="PROCESS STATUS" /></p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/62.oci-goldengate-replicat-process-status-green.png" alt="PROCESS STATUS" /></p>
  </li>
  <li>
    <p>Extract(추출) 및 Replicat(복제) 프로세스가 정상적으로 동작하는지는 아래와 같이 모든 프로세스의 상태가 Green 표시로 나타나야 하며, 아래 에러메시지 창에도 붉은색 Error 메시지가 없는 상태가 정상 동작 상태입니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/72.oci-goldengate-process-ok.png" alt="PROCESS OK" /></p>
  </li>
</ul>

<blockquote>
  <p>STEP 11번까지의 단계가 모두 성공적으로 완료되면 기본적인 OCI GoldenGate 의 Capture (추출) 및 Replicat (복제) 구성이 완료된 상태가 됩니다.</p>
</blockquote>

<p><br /></p>

<h3 id="step-12--복제-결과-확인-및-통계-확인">STEP 12 : 복제 결과 확인 및 통계 확인</h3>

<p>OCI GoldenGate 를 통해 SOURCE DB 에서 TARGET DB 로의 복제 구성이 완료되었습니다. SOURCE DB 에서의 추출 및 복제가 잘 이루어지는지 확인을 위해 해당 테이블의 통계 (TABLE STATISTICS) 를 확인하는 방법입니다.</p>

<ul>
  <li>
    <p>Perormance Metrics Service 에서는 동작하고 있는 각 프로세스의 상태 정보 및 처리 통계 정보들을 확인할 수 있습니다. OCI GoldenGate Admin 콘솔 화면에서 상단탭들 중에서 Performance Metrics Service 를 클릭하면 모든 프로세스의 동작 상태를 확인할 수 있고 그중 Extract (추출) 현황을 확인하기 위해 Extract 프로세스인 UAEXT 프로세스를 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/63.oci-goldengate-performance-metrics.png" alt="PERFORMANCE METRICS" /></p>
  </li>
  <li>
    <p>Extract 프로세스의 동작 현황들이 나타납니다. 해당 프로세스가 사용하고 있는 CPU, Memory, I/O 등의 자원 현황들이 나타납니다. Extract 프로세스가 DB 에 처리하는 처리 건수 및 통계를 확인하기 위해서 상단 탭 메뉴들 중에서 “Database Statistics” 메뉴를 클릭합니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/64.oci-goldengate-performance-metrics-chart.png" alt="PERFORMANCE CHART" /></p>
  </li>
  <li>
    <p>Performance Metrics 의 Datatbase Statistics 에서는 OCI GoldenGate 가 처리하고 있는 DB 테이블에서 일어나고 있는 Insert, Update, Delete 등의 변경 정보들에 대한 추출 및 복제 처리 건수에 대한 통계 정보들을 확인할 수 있습니다. 해당 화면의 맨아래로 스크롤을 하면 Table Statistics 라는 항목이 나타납니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/65.oci-goldengate-performance-metrics-database-statistics.png" alt="DATABASE STATISTICS" /></p>
  </li>
  <li>
    <p>다음 STEP 에서 OCI GoldenGate 에 대한 복제 및 추출 현황을 모니터링하기 위해 Performance Metrics 의 Database Statistics 의 Table Statistics 화면을 열어 놓은 상태에서 STEP 13 을 진행합니다.</p>
  </li>
</ul>

<p><br /></p>

<h3 id="step-13--복제를-위해-source-db-테이블에-데이터-입력-변경">STEP 13 : 복제를 위해 SOURCE DB 테이블에 데이터 입력 변경</h3>

<p>복제가 제대로 동작하는지 SOURCE DB 의 테이블들에 데이터를 입력하여 SOURCE DB 에 변경을 진행합니다.</p>

<ul>
  <li>
    <p>윈도우 서버에 설치한 SQL Developer 를 통해 SOURCE DB (SRC_OCIGGLL 사용자 스키마) 와 TARGET DB (SRCMIRROR_OCIGGLL 사용자 스키마) 의 SRC_CITY, SRC_REGION 테이블의 내용이 동일한지 데이터 내용 및 건수를 확인합니다.</p>

    <ul>
      <li>
        <p>SOURCE DB 의 SRC_OCIGGLL.SRC_CITY 테이블 내용 및 건수 확인
  <img src="/assets/img/dataplatform/2022/goldengate/66.oci-goldengate-source-table-src-city.png" alt="SOURCEDB CITYTABLE" /></p>
      </li>
      <li>
        <p>TARGET DB 의 SRCMIRROR_OCIGGLL.SRC_CITY 테이블 내용 및 건수 확인 (※ 상기 SOURCE DB 와 내용 및 건수가 동일한지 비교 확인)
  <img src="/assets/img/dataplatform/2022/goldengate/67.oci-goldengate-target-table-src-city.png" alt="TARGETDB CITYTABLE" /></p>
      </li>
    </ul>
  </li>
  <li>
    <p>SQL Developer 를 통해 SOURCE DB 에 SRC_OCIGGLL 사용자로 PDB 에 접속하여 SQL 실행창에 아래의 Insert 쿼리를 복사 후 붙여넣기를 한 후 SCRIPT 를 실행합니다. (※ INSERT, UPDATE, DELETE 등의 SOURCE DB 변경 후 COMMIT 문 반드시 실행)</p>

    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    
  <span class="k">Insert</span> <span class="k">into</span> <span class="n">SRC_OCIGGLL</span><span class="p">.</span><span class="n">SRC_REGION</span> <span class="p">(</span><span class="n">REGION_ID</span><span class="p">,</span><span class="n">REGION</span><span class="p">,</span><span class="n">COUNTRY_ID</span><span class="p">,</span><span class="n">COUNTRY</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="s1">'Central Korea'</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s1">'Korea'</span><span class="p">);</span>
  <span class="k">Insert</span> <span class="k">into</span> <span class="n">SRC_OCIGGLL</span><span class="p">.</span><span class="n">SRC_REGION</span> <span class="p">(</span><span class="n">REGION_ID</span><span class="p">,</span><span class="n">REGION</span><span class="p">,</span><span class="n">COUNTRY_ID</span><span class="p">,</span><span class="n">COUNTRY</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">1001</span><span class="p">,</span><span class="s1">'EastSouth Korea'</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="s1">'Korea'</span><span class="p">);</span>

  <span class="k">Insert</span> <span class="k">into</span> <span class="n">SRC_OCIGGLL</span><span class="p">.</span><span class="n">SRC_CITY</span> <span class="p">(</span><span class="n">CITY_ID</span><span class="p">,</span><span class="n">CITY</span><span class="p">,</span><span class="n">REGION_ID</span><span class="p">,</span><span class="n">POPULATION</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="s1">'Seoul'</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1992823</span><span class="p">);</span>
  <span class="k">Insert</span> <span class="k">into</span> <span class="n">SRC_OCIGGLL</span><span class="p">.</span><span class="n">SRC_CITY</span> <span class="p">(</span><span class="n">CITY_ID</span><span class="p">,</span><span class="n">CITY</span><span class="p">,</span><span class="n">REGION_ID</span><span class="p">,</span><span class="n">POPULATION</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">1001</span><span class="p">,</span><span class="s1">'Pusan'</span><span class="p">,</span><span class="mi">1001</span><span class="p">,</span><span class="mi">1725821</span><span class="p">);</span>

  <span class="k">COMMIT</span><span class="p">;</span>

</code></pre></div>    </div>

    <p><img src="/assets/img/dataplatform/2022/goldengate/68.oci-goldengate-sourcedb-insert.png" alt="INSERT QUERY" /></p>
  </li>
  <li>
    <p>앞서 STEP 12 에서 열어 두었던 OCI GoldenGate 의 Performance Metrics 의 Database Statistics 의 Table Statistics 화면에서 테이블 건수의 변화 및 Chart 의 변화를 확인합니다. Table Statistics 건수에 앞서 Insert 를 수행했던 두개의 테이블에 각각 2건씩 Insert 가 추가된 것이 통계로 나타납니다. 또한 중간에 나타나는 진행 그래프에서 아래 그림처럼 빨간색으로 표시된 그래프처럼 그래프의 변화가 일어나면 해당 시점에서 Capture 추출 프로세스가 처리된 것을 나타냅니다.</p>

    <p><img src="/assets/img/dataplatform/2022/goldengate/69.oci-goldengate-table-statistics.png" alt="PERFORMANCE METRICS" /></p>
  </li>
  <li>
    <p>SQL Developer 를 통해 입력한 데이터가 SOURCE DB 와 TARGET DB 에 제대로 반영이 되었는지 확인합니다.</p>

    <ul>
      <li>
        <p>SOURCE DB 의 SRC_OCIGGLL.SRC_CITY 테이블 내용 및 건수 확인
  <img src="/assets/img/dataplatform/2022/goldengate/70.oci-goldengate-sourcedb-insert-check.png" alt="SOURCEDB INSERTCHECK" /></p>
      </li>
      <li>
        <p>TARGET DB 의 SRCMIRROR_OCIGGLL.SRC_CITY 테이블 내용 및 건수 확인 (※ 상기 SOURCE DB 와 내용 및 건수가 동일한지 비교 확인)
  <img src="/assets/img/dataplatform/2022/goldengate/71.oci-goldengate-targetdb-replicat-check.png" alt="TARGETDB REPLICATCHECK" /></p>
      </li>
    </ul>
  </li>
  <li>
    <p>TARGET DB 에도 SOURCE DB 에 SRC_CITY 테이블에 INSERT 했던 ‘Seoul’, ‘Pusan’ 레코드가 복제된 것을 확인할 수 있습니다. SOURCE DB 의 TABLE 들에 다른 DATA 를 INSERT 하거나 UPDATE 하거나 DELETE 를 하더라도 모든 DB 테이블들의 변경들이 TARGET DB 로 복제되는 것을 확인하실 수 있게 됩니다. 수고하셨습니다.</p>
  </li>
</ul>

<p><br /></p>

<hr />


			
			
						<div id="page-meta" class="t30">
				<p>
					<!-- Look the author details up from the site config. -->
					
					<!-- Output author details if some exist. -->
					
					<span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="pr20 icon-edit"><a href="" target="_blank"> Phillsoo Lim</a></span>
				</span>
				

				
				<time class="icon-calendar pr20" datetime="2022-08-01T00:00:00+09:00" itemprop="datePublished"> 2022-08-01</time>
				

				<span class="icon-archive pr20"> DATAPLATFORM</span>
				<br />
				<span class="pr20"><span class="icon-price-tag pr10"> oci</span> <span class="icon-price-tag pr10"> oracle</span> <span class="icon-price-tag pr10"> goldengate</span> <span class="icon-price-tag pr10"> dbcs</span> <span class="icon-price-tag pr10"> replication</span> <span class="icon-price-tag pr10"> cdc</span> </span>
			</p>

			
			<div id="post-nav" class="row">
				

				
				<div class="medium-5 columns"><a class="button small radius prev" href="/dataplatform/oracle-database-cloud-service-quickstart/">&laquo; Oracle Database Cloud Service 프로비저닝 Quick Start</a></div><!-- /.small-4.columns -->
				

				<div class="medium-2 columns text-center"><a class="button small radius expand" href="http://localhost:4000//dataplatform/" title="">BACK</a></div><!-- /.small-4.columns -->
				
				
				<div class="medium-5 columns text-right"><a class="button small radius next" href="/dataplatform/oracle-database-service-for-azure/">Oracle Database Service for Azure 소개 &raquo;</a></div><!-- /.small-4.columns -->
				
			</div>
			
			</div><!--  /.page-meta -->

			

			
						
				<h3 id="comments" class="t60">Dialogue &amp; Discussion</h3>
			    <div id="disqus_thread"></div>
			    <script type="text/javascript">
			        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
			        var disqus_shortname = 'team-oasiss-technical-blog'; 
			        var disqus_identifier = '/dataplatform/oci-goldengate-configuration-guide/';

			        /* * * DON'T EDIT BELOW THIS LINE * * */
			        (function() {
			            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
			            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			        })();
			    </script>
			    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			



			
		</article>
	</div><!-- /.medium-12.columns -->
</div><!-- /.row -->




	
	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" href="#top-of-page">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      
      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-12 medium-6 columns credits">
            <p>Created with &hearts; by OASIS.</p>
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns">
            <ul class="inline-list social-icons">
            
              <li><a href="http://github.com/the-team-oasis" target="_blank" class="icon-github" title="Code und mehr..."></a></li>
            
              <li><a href="https://www.youtube.com/channel/UC60OcDzeEtn194-UPYNJs8A" target="_blank" class="icon-youtube" title="OCI Youtube"></a></li>
            
              <li><a href="https://twitter.com/oraclecloud" target="_blank" class="icon-twitter" title="OCI Twitter"></a></li>
            
              <li><a href="http://cloud.oracle.com" target="_blank" class="icon-cloud" title="OCI Home"></a></li>
            
            </ul>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

	

	


<script src="http://localhost:4000//assets/js/javascript.min.js"></script>













	<script src="http://localhost:4000//assets/js/copy-code-button.js"></script>
</body>
</html>

