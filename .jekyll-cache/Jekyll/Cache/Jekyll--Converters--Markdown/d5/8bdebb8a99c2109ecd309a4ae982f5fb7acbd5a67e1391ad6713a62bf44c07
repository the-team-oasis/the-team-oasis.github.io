I"á$<div class="panel radius">
  <p id="toc"><strong>Table of Contents</strong></p>
<ul id="markdown-toc">
  <li><a href="#vcn-ìƒì„±" id="markdown-toc-vcn-ìƒì„±">VCN ìƒì„±</a></li>
  <li><a href="#compute-ìƒì„±" id="markdown-toc-compute-ìƒì„±">Compute ìƒì„±</a></li>
  <li><a href="#security-list-ì„¤ì •" id="markdown-toc-security-list-ì„¤ì •">Security List ì„¤ì •</a></li>
  <li><a href="#instance-firewall-ì„¤ì •" id="markdown-toc-instance-firewall-ì„¤ì •">Instance Firewall ì„¤ì •</a></li>
</ul>

</div>

<h3 id="vcn-ìƒì„±">VCN ìƒì„±</h3>
<p>ìš°ì„  VCNì„ ì¤€ë¹„í•©ë‹ˆë‹¤. VCN ìƒì„±ì€ ì•„ë˜ í¬ìŠ¤íŒ…ì„ ì°¸ê³ í•©ë‹ˆë‹¤.</p>

<blockquote>
  <p><a href="https://the-team-oasis.github.io/getting-started/create-vcn/">OCIì—ì„œ VCN Wizardë¥¼ í™œìš©í•˜ì—¬ ë¹ ë¥´ê²Œ VCN ìƒì„±í•˜ê¸°</a></p>
</blockquote>

<h3 id="compute-ìƒì„±">Compute ìƒì„±</h3>
<p>VM Compute Instaceë¥¼ í•˜ë‚˜ ìƒì„±í•©ë‹ˆë‹¤. <strong>Compute &gt; Instances &gt; Create Instances</strong>ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.</p>

<p><img src="/assets/img/getting-started/2022/compute-firewall-1.png" alt="" /></p>

<p>ê¸°ë³¸ ì„ íƒí™”ë©´ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ì´ë¦„ì„ ì…ë ¥í•˜ê³  ì´ë¯¸ì§€ (ì—¬ê¸°ì„œëŠ” Oracle Linux 8)ë¥¼ ì„ íƒí•˜ë©°, ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ VCNê³¼ Subnet (Public)ì„ ì„ íƒí•©ë‹ˆë‹¤.
<img src="/assets/img/getting-started/2022/compute-firewall-2.png" alt="" /></p>

<p>ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•˜ê¸° ìœ„í•´ì„œëŠ” SSH í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì‚¬ìš©í•˜ê³  ìˆëŠ” í‚¤ê°€ ìˆë‹¤ë©´, í•´ë‹¹ Public Keyë¥¼ Copy &amp; Pasteí•˜ê³ , ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° <strong>Generate a key pair for me</strong>ë¥¼ ì„ íƒí•˜ì—¬ í‚¤ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ <strong>Create</strong> ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>

<p><img src="/assets/img/getting-started/2022/compute-firewall-3.png" alt="" /></p>

<h3 id="security-list-ì„¤ì •">Security List ì„¤ì •</h3>
<p>íŠ¹ì • í¬íŠ¸ë¥¼ ì˜¤í”ˆí•˜ê¸° ìœ„í•´ì„œëŠ” OCIì—ì„œ ê´€ë¦¬í•˜ëŠ” Security Listì™€ Instanceì˜ OSì—ì„œ ê´€ë¦¬í•˜ëŠ” Firewall ë‘ ë¶€ë¶„ì— ëª¨ë‘ ì¶”ê°€í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ìš°ì„  Security Listì— ì˜¤í”ˆí•˜ê¸° ìœ„í•œ í¬íŠ¸ë¥¼ ì¶”ê°€í•˜ì—¬ì•¼ í•˜ëŠ”ë°, ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ì„ íƒí•œ Subnetì„ ì„ íƒí•œ í›„ Security Listë¥¼ ì„ íƒí•©ë‹ˆë‹¤. (VCN Wizardë¥¼ í†µí•´ ìƒì„±í•œ ê²½ìš° Private Subnetì„ ìœ„í•œ Security Listì™€ Public Subnetì„ ìœ„í•œ Security List ë‘ ê°œê°€ ìƒì„±ë˜ë©°, ë„¤ì´ë°ì´ <strong>Default Security List for {VCNëª…}</strong>ìœ¼ë¡œ ìƒì„±ëœ ê²ƒì´ Public Subnetì˜ Security Listì…ë‹ˆë‹¤.)</p>

<p><img src="/assets/img/getting-started/2022/compute-firewall-4.png" alt="" /></p>

<p><strong>Add Ingress Rules</strong>ì„ ì„ íƒí•©ë‹ˆë‹¤.</p>

<p><img src="/assets/img/getting-started/2022/compute-firewall-5.png" alt="" /></p>

<p>ë‹¤ìŒê³¼ ê°™ì´ <strong>Source CIDR</strong>ì™€ <strong>Destination Port Range</strong>ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</p>

<ul>
  <li>Source CIDR: 0.0.0.0/0 (ëª¨ë“  IPë¥¼ í—ˆìš©)</li>
  <li>Destination Port Range: 8080 (ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì˜¤í”ˆí•  í¬íŠ¸)</li>
</ul>

<p><img src="/assets/img/getting-started/2022/compute-firewall-6.png" alt="" /></p>

<h3 id="instance-firewall-ì„¤ì •">Instance Firewall ì„¤ì •</h3>
<p>iptablesì„ í™œìš©í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ, Oracle Linux 7ì´ìƒë¶€í„°ëŠ” <strong><em>firewalld</em></strong> ë¼ê³  í•˜ëŠ” ë°ëª¬ ì„œë¹„ìŠ¤ë¡œ ê´€ë¦¬í•˜ë©°, ëª…ë ¹ì–´ëŠ” <strong><em>firewall-cmd</em></strong> ëª…ë ¹ì–´ë¥¼ í™œìš©í•©ë‹ˆë‹¤.</p>

<p>ìš°ì„  sshë¡œ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ì†í•©ë‹ˆë‹¤.</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>ssh <span class="nt">-i</span> <span class="o">{</span>ssh key<span class="o">}</span> opc@<span class="o">{</span>ip address<span class="o">}</span>
</code></pre></div></div>

<p>ë‹¤ìŒê³¼ ê°™ì´ Firewallì„ ì„¤ì •í•©ë‹ˆë‹¤. ì°¸ê³ ë¡œ <strong><em>â€“permanent</em></strong> ì˜µì…˜ì€ ì˜êµ¬ì ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ì˜µì…˜ì´ì§€ë§Œ, ë°˜ë“œì‹œ <strong><em>â€“reload</em></strong>ë¥¼ ë°©í™”ë²½ì„ ì¬ì‹œì‘í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.</p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--zone</span><span class="o">=</span>public <span class="nt">--add-port</span><span class="o">=</span>8080/tcp
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--reload</span>
</code></pre></div></div>

<p>ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ì—´ë¦° í¬íŠ¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.</p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--list-all</span>
</code></pre></div></div>

<p>ì´ ì™¸ì— ì¶”ê°€ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><strong>ë°©í™”ë²½ ì‹¤í–‰ ìƒíƒœ</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--state</span> 
</code></pre></div></div>

<p><strong>ì¡´ ëª©ë¡ì„ ì¶œë ¥</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--get-zones</span>
</code></pre></div></div>

<p><strong>ê¸°ë³¸ ì¡´ ì¶œë ¥</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--get-active-zones</span>
</code></pre></div></div>

<p><strong>zoneì„ ì§€ì •í•´ì„œ ì¶œë ¥</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">firewall-cmd --zone=public --list-all
</span></code></pre></div></div>
<p><strong>ì„ì‹œë¡œ í¬íŠ¸ ì¶”ê°€ / reload ì—†ì´ ë°”ë¡œ ë°˜ì˜ë˜ë‚˜ ì„œë²„ê°€ ì¬ë¶€íŒ…ë˜ë©´ ì„¤ì •ë„ ì‚¬ë¼ì§</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--add-port</span><span class="o">=</span>8080/tcp
</code></pre></div></div>

<p><strong>í¬íŠ¸ ì œê±°</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--remove-port</span><span class="o">=</span>8080/tcp
</code></pre></div></div>

<p><strong>ì„œë¹„ìŠ¤ ì¶”ê°€</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--add-service</span><span class="o">=</span>ftp
</code></pre></div></div>

<p><strong>ì„œë¹„ìŠ¤ ì œê±°</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--remove-service</span><span class="o">=</span>ftp
</code></pre></div></div>

<p><strong>ì¡´ì„ ì§€ì •í•´ì„œ ì¶”ê°€</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--zone</span><span class="o">=</span>trusted <span class="nt">--add-service</span><span class="o">=</span>ftp
</code></pre></div></div>

<p><strong>permanent ì˜µì…˜ìœ¼ë¡œ ì„œë¹„ìŠ¤ ì¶”ê°€ / ì˜êµ¬ì ìœ¼ë¡œ ì¶”ê°€ë˜ë‚˜ â€“reload ì˜µì…˜ìœ¼ë¡œ ë°©í™”ë²½ ì¬ì‹œì‘ í•„ìš”</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--zone</span><span class="o">=</span>public <span class="nt">--add-service</span><span class="o">=</span>ftp
</code></pre></div></div>

<p><strong>permanent ì˜µì…˜ìœ¼ë¡œ í¬íŠ¸ ì¶”ê°€ / ì˜êµ¬ì ìœ¼ë¡œ ì¶”ê°€ë˜ë‚˜ â€“reload ì˜µì…˜ìœ¼ë¡œ ë°©í™”ë²½ ì¬ì‹œì‘ í•„ìš”</strong></p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>firewall-cmd <span class="nt">--permanent</span> <span class="nt">--zone</span><span class="o">=</span>public <span class="nt">--add-port</span><span class="o">=</span>8080/tcp
</code></pre></div></div>

<p>ë°©í™”ë²½ì„ ì™„ì „íˆ í•´ì œí•˜ê³  ëª¨ë“  í¬íŠ¸ë¥¼ ì˜¤í”ˆí•˜ëŠ” ê²½ìš°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl stop firewalld.service
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl disable firewalld.service
</code></pre></div></div>
:ET